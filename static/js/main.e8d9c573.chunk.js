(window.webpackJsonpminicolors=window.webpackJsonpminicolors||[]).push([[0],{198:function(e,t,n){e.exports=n(363)},204:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(38),l=n.n(o),c=n(48),i=n.n(c),s=n(76),u=n(46),d=n(77),h=n(84),m=n(78),p=n(86),f=function(e){return r.a.createElement("section",{className:"current-color",style:{backgroundColor:e.color.hex}},r.a.createElement("div",null,r.a.createElement("h4",null,"".concat(e.color.brand," ").concat(e.color.productline))),r.a.createElement("div",null,r.a.createElement("h1",null,e.color.name)),r.a.createElement("div",null,r.a.createElement("h4",null,e.color.hex.toUpperCase())))},v=function(e){var t=e.similarColors.map(function(e,t){return r.a.createElement("div",{key:t,className:"similar-color",style:{backgroundColor:e.hex}},r.a.createElement("div",null,r.a.createElement("h4",null,"".concat(e.brand," ").concat(e.productline))),r.a.createElement("div",null,r.a.createElement("h2",null,e.name.charAt(0).toUpperCase()+e.name.slice(1))),r.a.createElement("div",null,r.a.createElement("h4",null,"\u0394=".concat(parseFloat(Math.round(100*e.delta)/100).toFixed(2)))))});return r.a.createElement("section",{className:"similar-colors-wrapper"},t)},E=(n(204),n(79)),g=n.n(E),b=n(22),S=n.n(b),C=n(85),y=n(372),j=n(116),k=n(111),w=n.n(k),O=n(227),x=function e(){var t=this;Object(u.a)(this,e),this.getDeltaE=function(e,t){var n={L:(e=w.a.hex.lab.raw(e))[0],A:e[1],B:e[2]},a={L:(t=w.a.hex.lab.raw(t))[0],A:t[1],B:t[2]};return O.getDeltaE00(n,a)},this.startCalculation=function(){var e=Object(s.a)(i.a.mark(function e(n){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=S.a.uniqBy(n,"productline"),r=n.map(function(e){var r=[];return n.forEach(function(n){if(n.id!==e.id){var a=t.getDeltaE(e.hex,n.hex);r.push({id:n.id,deltaE:a})}}),r=S.a.sortBy(r,["deltaE"]),e.matches=[],a.forEach(function(t){var a=S.a.filter(r,function(e){return S.a.find(n,["id",e.id]).productline===t.productline});a=a.slice(0,5),e.matches=[].concat(Object(j.a)(e.matches),Object(j.a)(a))}),e.matches=S.a.sortBy(e.matches,["deltaE"]),e}),console.log(r),t.downloadObjectAsJson(r,"colorsMatched");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.downloadObjectAsJson=function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",t+".json"),document.body.appendChild(a),a.click(),setTimeout(function(){},1e4)},g.a.get("./colors.json").then(function(e){t.startCalculation(e.data)}).catch(function(e){console.log(e)})},F=function(e){var t=e.brand;return r.a.createElement(C.a,{as:"span",content:t})},M=function(e){var t=e.name;return r.a.createElement(C.a,{id:t,content:t})},R=null,L=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).initialState={isLoading:!1,results:[],value:"",colors:n.props.colors},n.state=n.initialState,n.calculateDeltas=function(){new x},n.setSource=function(e){R={},e.forEach(function(e){var t=[],n="".concat(e.brand," ").concat(e.productline);n in R&&(t=R[n].results),t.push(e),R[n]={brand:n,results:t}})},n.handleResultSelect=function(e,t){var a=t.result;n.setState({value:""}),n.props.onSubmit(a)},n.handleSearchChange=function(e,t){var a=t.value;n.setState({isLoading:!0,value:a}),setTimeout(function(){if(n.state.value.length<1)return n.setState(n.initialState);var e={},t=n.state.value.trim().split(" ");for(var a in R){var r=R[a].brand,o=R[a].results,l=S.a.filter(o,function(e){var n=e.name.split(" ").concat(e.brand.split(" "));return t.every(function(e){var t=new RegExp(S.a.escapeRegExp(e),"i");return n.some(function(e,a){return!!t.test(e)&&(n.splice(a,1),!0)})})});l.length&&(e[a]={brand:r,results:l})}n.setState({isLoading:!1,results:e})},300)},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){null===R&this.props.colors.length>0&&(this.initialState.colors=this.props.colors,this.setState({colors:this.props.colors}),this.setSource(this.props.colors))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.value,a=e.results;return r.a.createElement(y.a,Object.assign({input:{icon:"search",iconPosition:"left"},id:"searchInput",fluid:!0,category:!0,placeholder:"Find a color",categoryRenderer:F,loading:t,onResultSelect:this.handleResultSelect,onSearchChange:S.a.debounce(this.handleSearchChange,500,{leading:!0}),resultRenderer:M,results:a,value:n},this.props))}}]),t}(a.Component),A=n(49),N=n(373),B=n(374),D=n(371),J={currentColor:null,similarColors:null,colors:[],filters:[]},I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=localStorage.getItem("appState")?JSON.parse(localStorage.getItem("appState")):J,n.onSearchSubmit=function(e){n.setState({currentColor:e,similarColors:n.getSimilarColors(e)})},n.setRandomColor=function(){var e=n.state.colors[Math.floor(Math.random()*n.state.colors.length)];n.setState({currentColor:e},function(){n.setState({similarColors:n.getSimilarColors(e)})})},n.onFilterChange=function(e,t){var n=t.value;console.log(e),console.log(n)},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0===this.state.colors.length&&g.a.get("./colorsMatched.json").then(function(e){t.setState({colors:e.data},function(){t.getFilters(),t.setRandomColor()})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){localStorage.setItem("appState",JSON.stringify(this.state))}},{key:"getFilters",value:function(){var e=S.a.uniqBy(this.state.colors,"productline");e=e.map(function(e){return{productline:"".concat(e.brand," ").concat(e.productline),active:!0}}),this.setState({filters:e})}},{key:"getSimilarColors",value:function(e){var t=this;return e.matches?e.matches.map(function(e){var n=S.a.find(t.state.colors,["id",e.id]);return n?(n.delta=e.deltaE,n):null}).slice(0,5):null}},{key:"renderHeader",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("button",{onClick:this.setRandomColor},r.a.createElement(A.a,{name:"random"})),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement(L,{onSubmit:this.onSearchSubmit,colors:this.state.colors}),";"),r.a.createElement("div",{className:"filter-button"},r.a.createElement(N.a,{multiple:!0,icon:"filter"},r.a.createElement(N.a.Menu,null,r.a.createElement(N.a.Header,{icon:"tags",content:"Filter by Product Line"}),r.a.createElement(N.a.Menu,{scrolling:!0,onChange:this.onFilterChange},this.renderFilterList()))))))}},{key:"renderFilterList",value:function(){return this.state.filters.map(function(e,t){return r.a.createElement(N.a.Item,{key:t,icon:e.active?"check":"",text:e.productline})})}},{key:"renderMain",value:function(){return null!==this.state.currentColor&&null!==this.state.similarColors?r.a.createElement("main",null,r.a.createElement(f,{color:this.state.currentColor}),r.a.createElement(v,{similarColors:this.state.similarColors})):r.a.createElement("main",null,r.a.createElement(B.a,{active:!0,inverted:!0},r.a.createElement(D.a,{inverted:!0},"Loading")))}},{key:"renderFooter",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Best Match")),r.a.createElement("div",{id:"footerline"}),r.a.createElement("div",null,r.a.createElement("h4",null,"Good Match")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},this.renderHeader(),this.renderMain(),this.renderFooter())}}]),t}(r.a.Component);l.a.render(r.a.createElement(I,null),document.querySelector("#root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.e8d9c573.chunk.js.map