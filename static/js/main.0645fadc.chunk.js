(window.webpackJsonpminicolors=window.webpackJsonpminicolors||[]).push([[0],{200:function(e,t,a){e.exports=a(374)},206:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),l=a(50),i=a.n(l),s=a(77),u=a(48),d=a(78),h=a(86),m=a(79),f=a(88),p=function(e){return r.a.createElement("div",{className:"row",style:{backgroundColor:e.color.hex,height:"30%"}},r.a.createElement("div",{className:"column mainColor color"},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("h4",null,"".concat(e.color.brand," ").concat(e.color.productline))),r.a.createElement("div",{style:{width:"60%"}},r.a.createElement("h1",null,e.color.name)),r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("h4",null,e.color.hex))))},v=function(e){var t=e.similarColors.map(function(e,t){return r.a.createElement("div",{key:t,className:"column similarColor color",style:{backgroundColor:e.hex}},r.a.createElement("h4",null,"".concat(e.brand," ").concat(e.productline)),r.a.createElement("h2",null,e.name.charAt(0).toUpperCase()+e.name.slice(1)),r.a.createElement("h4",null,"\u0394=".concat(parseFloat(Math.round(100*e.deltaE)/100).toFixed(2))))});return r.a.createElement("div",{className:"row",style:{height:"70%"}},t)},E=(a(206),a(80)),b=a.n(E),g=a(23),y=a.n(g),S=a(87),C=a(383),w=a(385),j=a(384),x=a(116),O=a(112),k=a.n(O),N=a(229),A=function e(){var t=this;Object(u.a)(this,e),this.getDeltaE=function(e,t){var a={L:(e=k.a.hex.lab.raw(e))[0],A:e[1],B:e[2]},n={L:(t=k.a.hex.lab.raw(t))[0],A:t[1],B:t[2]};return N.getDeltaE00(a,n)},this.startCalculation=function(){var e=Object(s.a)(i.a.mark(function e(a){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=y.a.uniqBy(a,"productline"),r=a.map(function(e){var r=[];return a.forEach(function(a){if(a.id!==e.id){var n=t.getDeltaE(e.hex,a.hex);r.push({id:a.id,deltaE:n})}}),r=y.a.sortBy(r,["deltaE"]),e.matches=[],n.forEach(function(t){var n=y.a.filter(r,function(e){return y.a.find(a,["id",e.id]).productline===t.productline});n=n.slice(0,5),e.matches=[].concat(Object(x.a)(e.matches),Object(x.a)(n))}),e.matches=y.a.sortBy(e.matches,["deltaE"]),e}),console.log(r),t.downloadObjectAsJson(r,"colorsMatched");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.downloadObjectAsJson=function(e,t){var a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",t+".json"),document.body.appendChild(n),n.click(),setTimeout(function(){},1e4)},b.a.get("./colors.json").then(function(e){t.startCalculation(e.data)}).catch(function(e){console.log(e)})},D=function(e){var t=e.brand;return r.a.createElement(S.a,{as:"span",content:t})},M=function(e){var t=e.name;return r.a.createElement(S.a,{id:t,content:t})},L={},R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).initialState={isLoading:!1,results:[],value:"",colors:a.props.colors},a.state=a.initialState,a.calculateDeltas=function(){new A},a.setSource=function(e){L={},e.forEach(function(e){var t=[],a="".concat(e.brand," ").concat(e.productline);a in L&&(t=L[a].results),t.push(e),L[a]={brand:a,results:t}})},a.handleResultSelect=function(e,t){var n=t.result;a.setState({value:""}),a.props.onSubmit(n)},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),setTimeout(function(){if(a.state.value.length<1)return a.setState(a.initialState);var e={},t=a.state.value.trim().split(" ");for(var n in L){var r=L[n].brand,o=L[n].results,c=y.a.filter(o,function(e){var a=e.name.split(" ").concat(e.brand.split(" "));return t.every(function(e){var t=new RegExp(y.a.escapeRegExp(e),"i");return a.some(function(e,n){return!!t.test(e)&&(a.splice(n,1),!0)})})});c.length&&(e[n]={brand:r,results:c})}a.setState({isLoading:!1,results:e})},300)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){this.state.colors.length<=0&&this.props.colors.length>0&&(this.initialState.colors=this.props.colors,this.setState({colors:this.props.colors}),this.setSource(this.props.colors))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value,n=e.results;return r.a.createElement("div",{id:"searchBar",className:"ui secondary menu",style:{height:"50px"}},r.a.createElement("button",{className:"ui item icon button",onClick:this.calculateDeltas},r.a.createElement("i",{className:"calculator icon"})),r.a.createElement("form",{className:"ui secondary menu fluid form",id:"searchForm"},r.a.createElement(C.a,Object.assign({fluid:!0,category:!0,categoryRenderer:D,loading:t,onResultSelect:this.handleResultSelect,onSearchChange:y.a.debounce(this.handleSearchChange,500,{leading:!0}),resultRenderer:M,results:n,value:a},this.props))),r.a.createElement(w.a,null,r.a.createElement(w.a.Menu,{position:"right"},r.a.createElement(j.a,{icon:"filter",floating:!0,button:!0,direction:"right",className:"icon"},r.a.createElement(j.a.Menu,null,r.a.createElement(j.a.Header,{icon:"tags",content:"Filter by Product Line"}),r.a.createElement(j.a.Divider,null),r.a.createElement(j.a.Item,{icon:"check",text:"Important"}),r.a.createElement(j.a.Item,{icon:"",text:"Announcement"}),r.a.createElement(j.a.Item,{icon:"check",text:"Discussion"}))))))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentColor:{name:"Turquoise",hex:"#03676f",brand:"Vallejo",productline:"Game Color",matches:[]},similarColors:[{name:"Sotek Green",hex:"#0c6a74",brand:"Citadel",productline:"Layer & Edge"}],colors:[]},a.onSearchSubmit=function(e){a.setState({currentColor:e,similarColors:a.getSimilarColors(e)})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("./colorsMatched.json").then(function(e){var a=e.data[Math.floor(Math.random()*e.data.length)];t.setState({colors:e.data,currentColor:a},function(){t.setState({similarColors:t.getSimilarColors(a)})})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getSimilarColors",value:function(e){var t=this;return e.matches?e.matches.map(function(e){var a=y.a.find(t.state.colors,["id",e.id]);return a?(a.deltaE=e.deltaE,a):null}).slice(0,5):null}},{key:"render",value:function(){var e,t;return e=this.state.colors.length>0?r.a.createElement(R,{onSubmit:this.onSearchSubmit,colors:this.state.colors}):r.a.createElement(R,{onSubmit:this.onSearchSubmit,colors:[]}),this.state.similarColors&&(t=r.a.createElement(v,{similarColors:this.state.similarColors})),r.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},e,r.a.createElement("div",{className:"ui equal width center aligned padded grid",style:{flexGrow:"1"}},r.a.createElement(p,{color:this.state.currentColor}),t),r.a.createElement("div",{id:"myfooter"},r.a.createElement("div",null,"Best Match"),r.a.createElement("div",{id:"footerline"}),r.a.createElement("div",null,"Good Match")))}}]),t}(r.a.Component);c.a.render(r.a.createElement(B,null),document.querySelector("#root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.0645fadc.chunk.js.map